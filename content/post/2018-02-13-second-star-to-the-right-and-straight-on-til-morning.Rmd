---
title: Second star to the right and straight on 'til morning
author: Jake Kaupp
date: '2018-02-13'
slug: second-star-to-the-right-and-straight-on-til-morning
categories:
  - community
  - visualization
  - R
tags:
  - R
---

> The strength of R doesn't lie in a single programming paradigm, it lies within the warm, welcoming and ecclectic community of useRs.

Like anyone who gets introduced to R, you start to look on the web for other like minded people.  Upon doing so, you find a vibrant community with very knowledgable and helpful people.  Bob Rudis (@hrbrmstr) is one of those people, doling out R wisdom, visualization, typography, culinary and infosec goodness on the regular.  Yet, in my opinion one of the most valuable things Bob does is star an incredible amount of work on github.  I have found out about a lot of great work, software, talks and R packages from reviewing what he stars.

Wait.  This actually needs a phrase .... "hrbrgazing"...... "hrbrstars"....."starbrgazing"!

Bob Barker: Tell him what he's won Johnny.

Johnny: "You've won the next topic for a blog post!"

I wanted to draw a little more attenion to starbrgazing and just how much you can discover by using the more social aspect of github, following people, and a pile of IFTTT alerts.

```{r setup, echo = FALSE}
library(gh)
library(tidyverse)
library(lubridate)
library(viridis)
library(glue)
library(nord)
library(jkmisc)
library(knitr)
library(ggrepel)

opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, fig.width = 10, fig.height = 5)


hrbr_stars <- gh("/users/:username/starred", username = "hrbrmstr", .limit = Inf) 

stars_tbl <- tibble(name = map_chr(hrbr_stars, "name"),
                    description = map_chr(hrbr_stars, "description", .null = NA),
                    language = map_chr(hrbr_stars, "language", .null = NA),
                    stargazers = map_int(hrbr_stars, "stargazers_count", .null = 0),
                    forks = map_int(hrbr_stars, "forks_count", .null = 0),
                    created = as_date(map_chr(hrbr_stars, "created_at")),
                    size = map_int(hrbr_stars, "size", .null = 0),
                    index = rev(seq_along(name)))
```



```{r languages}

top_languages <- stars_tbl %>% 
  filter(!is.na(language)) %>% 
  count(language) %>% 
  top_n(5, n) %>% 
  pull(language)


stars_tbl %>%
  mutate(year = year(created),
         month = month(created)) %>% 
  count(year, month, language) %>% 
  complete(year, month, language, fill = list(n = 0)) %>% 
  mutate(year = dmy(glue("01-{month}-{year}")),
         fill = ifelse(language == "R", "R", "notR")) %>%
  filter(language %in% top_languages) %>% 
  ggplot(., aes(x = year, y = n)) +
  geom_area(aes(fill = fill), color = "grey20", size = 0.1, show.legend = FALSE) +
  scale_y_continuous(limits = c(0, 20)) +
  scale_fill_manual(values = set_names(tol2qualitative,c("notR","R"))) +
  facet_wrap(~language, nrow = 1) +
  theme_jk()

```


```{r scatter}

scatter_data <- stars_tbl %>% 
  filter(language == "R") %>% 
  mutate(log_size = ifelse(forks == 0, 1, log(forks))) 


  ggplot(scatter_data, aes(x = created, y = stargazers)) +
  geom_point(aes(color = forks, size = forks), alpha = 0.9) +
  geom_text_repel(data =  top_n(scatter_data, 5, stargazers), aes(label = name), box.padding = unit(0.5, "lines")) +
  scale_color_nord(palette = "victory_bonds", discrete = FALSE, reverse = TRUE, name = "Forks")  +
  scale_y_log10(breaks = c(1, 10, 100, 1000, 10000, 100000), labels = scales::comma, limits = c(1, 100000)) +
  theme_jk() 

```


